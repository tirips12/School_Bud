"use strict";(self.webpackChunkanalytics_dashboard=self.webpackChunkanalytics_dashboard||[]).push([[740,965],{644:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23fff%27%3e%3cpath d=%27M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0%27/%3e%3c/svg%3e"},1368:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23fff%27%3e%3cpath d=%27M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708%27/%3e%3c/svg%3e"},1451:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27none%27 stroke=%27%23052c65%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpath d=%27m2 5 6 6 6-6%27/%3e%3c/svg%3e"},1893:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 20 20%27%3e%3cpath fill=%27none%27 stroke=%27%23fff%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%273%27 d=%27M6 10h8%27/%3e%3c/svg%3e"},2236:(e,t,n)=>{n.r(t),n.d(t,{ActivityLog:()=>w,PerCourseActivity:()=>h,mountActivityLog:()=>b,mountGithubAnalytics:()=>p,mountPerCourseActivity:()=>E});var r=n(6540),l=(n(6965),n(6378),n(2096)),a=n(3032),c=n(5056),s=n(2431),o=n(6052),i=n(2084),m=n(778),u=n(1069),d=n(9777),g=n(3524);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,a,c,s=[],o=!0,i=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;o=!1}else for(;!(o=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);o=!0);}catch(e){i=!0,l=e}finally{try{if(!o&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(i)throw l}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h(e){var t=e.stats,n=v((0,r.useState)("per-course"),2),i=n[0],m=n[1];return r.createElement(l.A,{className:"mb-4 shadow-sm"},r.createElement(l.A.Header,{className:"bg-white border-bottom-0 pb-0"},r.createElement("h4",{className:"mb-0"},"Per-Course Activity")),r.createElement(l.A.Body,null,r.createElement(a.A,{activeKey:i,onSelect:m,className:"mb-3"},r.createElement(c.A,{eventKey:"per-course",title:"Overview"},r.createElement(s.A,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"align-middle"},r.createElement("thead",{className:"table-light"},r.createElement("tr",null,r.createElement("th",null,"Course"),r.createElement("th",null,"Questions"),r.createElement("th",null,"Answers"),r.createElement("th",null,"Project Discussions"),r.createElement("th",null,"Enrolled Students"))),r.createElement("tbody",null,t.map((function(e){return r.createElement("tr",{key:e.course.id},r.createElement("td",null,r.createElement("a",{href:"/courses/".concat(e.course.id,"/"),className:"d-flex align-items-center text-decoration-none"},r.createElement(o.A,{bg:"secondary",className:"me-2"},e.course.code),r.createElement("span",{className:"fw-bold"},e.course.name))),r.createElement("td",null,r.createElement(o.A,{bg:"primary"},e.questions)),r.createElement("td",null,r.createElement(o.A,{bg:"info",text:"dark"},e.answers)),r.createElement("td",null,r.createElement(o.A,{bg:"success"},e.discussions)),r.createElement("td",null,r.createElement(o.A,{bg:"dark"},e.students)))}))))))))}function p(){return console.warn("mountGithubAnalytics is deprecated - use createRoot instead"),null}function E(e){return console.warn("mountPerCourseActivity is deprecated - use createRoot instead"),null}function w(){var e=v((0,r.useState)([]),2),t=e[0],n=e[1],a=v((0,r.useState)(!0),2),c=a[0],f=a[1],h=v((0,r.useState)(""),2),p=h[0],E=h[1],w=v((0,r.useState)("all"),2),b=w[0],x=w[1],y=v((0,r.useState)(1),2),A=y[0],k=y[1];(0,r.useEffect)((function(){f(!0),fetch("/api/eventlogs/?limit=1000").then((function(e){return e.json()})).then((function(e){n(e.results),f(!1)})).catch((function(e){console.error("Error fetching logs:",e),f(!1)}))}),[]),(0,r.useEffect)((function(){k(1)}),[p,b]);var N={all:{label:"All Activities",filter:function(){return!0}},questions:{label:"Questions",filter:function(e){return e.event_type.includes("question")}},answers:{label:"Answers",filter:function(e){return e.event_type.includes("answer")}},github:{label:"GitHub",filter:function(e){return e.event_type.startsWith("github_")}},votes:{label:"Votes",filter:function(e){return e.event_type.includes("vote")}}},_=t.filter((function(e){if(!N[b].filter(e))return!1;if(!p.trim())return!0;var t=p.toLowerCase();return e.event_type.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)||e.user&&e.user.username&&e.user.username.toLowerCase().includes(t)})),C=Math.ceil(_.length/10),S=_.slice(10*(A-1),10*A);function L(e){var t=e.current,n=e.total,l=e.onPageChange;if(n<=1)return null;var a=[],c=Math.max(1,t-Math.floor(3.5)),s=Math.min(n,c+7-1);s-c<6&&(c=Math.max(1,s-7+1)),a.push(r.createElement(u.A.First,{key:"first",onClick:function(){return l(1)},disabled:1===t})),a.push(r.createElement(u.A.Prev,{key:"prev",onClick:function(){return l(t-1)},disabled:1===t}));for(var o=function(e){a.push(r.createElement(u.A.Item,{key:e,active:e===t,onClick:function(){return l(e)}},e))},i=c;i<=s;i++)o(i);return a.push(r.createElement(u.A.Next,{key:"next",onClick:function(){return l(t+1)},disabled:t===n})),a.push(r.createElement(u.A.Last,{key:"last",onClick:function(){return l(n)},disabled:t===n})),r.createElement(u.A,null,a)}return r.createElement(l.A,{className:"mb-4"},r.createElement(l.A.Header,null,r.createElement("div",{className:"d-flex align-items-center justify-content-between mb-3"},r.createElement("h4",{className:"mb-0"},"Recent Activity Log"),r.createElement("div",{className:"d-flex align-items-center"},r.createElement("div",{className:"position-relative",style:{maxWidth:320}},r.createElement(i.A.Control,{type:"text",placeholder:"Filter by user, event, description...",value:p,onChange:function(e){return E(e.target.value)},className:"pe-4"}),p&&r.createElement("button",{className:"btn btn-sm position-absolute",style:{right:"4px",top:"50%",transform:"translateY(-50%)",border:"none"},onClick:function(){E("")}},r.createElement("i",{className:"fas fa-times text-muted"}))))),r.createElement("div",{className:"d-flex flex-wrap gap-2"},Object.entries(N).map((function(e){var t=v(e,2),n=t[0],l=t[1];return r.createElement("button",{key:n,className:"btn btn-sm ".concat(b===n?"btn-primary":"btn-outline-secondary"),onClick:function(){return x(n)}},l.label)})))),r.createElement(l.A.Body,{className:"p-0"},c?r.createElement("div",{className:"text-center my-4"},r.createElement(m.A,{animation:"border"})," Loading..."):r.createElement(r.Fragment,null,r.createElement(s.A,{striped:!0,hover:!0,responsive:!0,className:"mb-0"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Timestamp"),r.createElement("th",null,"User"),r.createElement("th",null,"Event"),r.createElement("th",null,"Description"))),r.createElement("tbody",null,_.length>0?S.map((function(e){return r.createElement("tr",{key:e.id,className:(t=e.event_type,t.startsWith("github_")?"table-info":"question_created_module"===t?"table-success":["question_created","answer_created","vote"].includes(t)?"table-light":"")},r.createElement("td",null,new Date(e.timestamp).toLocaleString()),r.createElement("td",null,e.user?e.user.username:"Anonymous"),r.createElement("td",null,r.createElement(d.A,{placement:"top",overlay:r.createElement(g.A,null,e.event_type)},r.createElement("span",null,function(e){return e.startsWith("github_")?r.createElement(o.A,{bg:"danger"},"GitHub"):"question_created_module"===e?r.createElement(o.A,{bg:"success"},"Module Q"):"question_created"===e?r.createElement(o.A,{bg:"primary"},"Q"):"answer_created"===e?r.createElement(o.A,{bg:"info"},"A"):"vote"===e?r.createElement(o.A,{bg:"secondary"},"Vote"):r.createElement(o.A,{bg:"dark"},e)}(e.event_type)))),r.createElement("td",null,e.description));var t})):r.createElement("tr",null,r.createElement("td",{colSpan:"4",className:"text-center py-4"},r.createElement("div",{className:"d-flex flex-column align-items-center"},r.createElement("i",{className:"fas fa-search fa-2x text-muted mb-3"}),r.createElement("h5",{className:"text-muted"},"No results found"),r.createElement("p",{className:"text-muted mb-0"},p?"No activities matching '".concat(p,"'"):"No ".concat("all"!==b?N[b].label.toLowerCase():"activities"," found")),(p||"all"!==b)&&r.createElement("button",{className:"btn btn-outline-primary btn-sm mt-3",onClick:function(){E(""),x("all")}},r.createElement("i",{className:"fas fa-times me-1"})," Clear filters")))))),r.createElement("div",{className:"d-flex justify-content-center py-3"},r.createElement(L,{current:A,total:C,onPageChange:function(e){k(e)}})))))}function b(){return console.warn("mountActivityLog is deprecated - use createRoot instead"),null}},2247:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 30 30%27%3e%3cpath stroke=%27rgba%2833, 37, 41, 0.75%29%27 stroke-linecap=%27round%27 stroke-miterlimit=%2710%27 stroke-width=%272%27 d=%27M4 7h22M4 15h22M4 23h22%27/%3e%3c/svg%3e"},2692:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27none%27 stroke=%27%23212529%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpath d=%27m2 5 6 6 6-6%27/%3e%3c/svg%3e"},3385:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%272%27 fill=%27%23fff%27/%3e%3c/svg%3e"},4718:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27%23fff%27/%3e%3c/svg%3e"},4914:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%236ea8fe%27%3e%3cpath fill-rule=%27evenodd%27 d=%27M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708%27/%3e%3c/svg%3e"},5372:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 12 12%27 width=%2712%27 height=%2712%27 fill=%27none%27 stroke=%27%23dc3545%27%3e%3ccircle cx=%276%27 cy=%276%27 r=%274.5%27/%3e%3cpath stroke-linejoin=%27round%27 d=%27M5.8 3.6h.4L6 6.5z%27/%3e%3ccircle cx=%276%27 cy=%278.2%27 r=%27.6%27 fill=%27%23dc3545%27 stroke=%27none%27/%3e%3c/svg%3e"},5419:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 20 20%27%3e%3cpath fill=%27none%27 stroke=%27%23fff%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%273%27 d=%27m6 10 3 3 6-6%27/%3e%3c/svg%3e"},5531:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27%3e%3cpath fill=%27none%27 stroke=%27%23343a40%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%272%27 d=%27m2 5 6 6 6-6%27/%3e%3c/svg%3e"},5782:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27%2386b7fe%27/%3e%3c/svg%3e"},5967:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23000%27%3e%3cpath d=%27M.293.293a1 1 0 0 1 1.414 0L8 6.586 14.293.293a1 1 0 1 1 1.414 1.414L9.414 8l6.293 6.293a1 1 0 0 1-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 0 1-1.414-1.414L6.586 8 .293 1.707a1 1 0 0 1 0-1.414%27/%3e%3c/svg%3e"},6366:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 30 30%27%3e%3cpath stroke=%27rgba%28255, 255, 255, 0.55%29%27 stroke-linecap=%27round%27 stroke-miterlimit=%2710%27 stroke-width=%272%27 d=%27M4 7h22M4 15h22M4 23h22%27/%3e%3c/svg%3e"},6965:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var r=n(6540),l=n(778),a=n(2096),c=n(3032),s=n(5056),o=n(2431),i=n(6052);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,a,c,s=[],o=!0,i=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;o=!1}else for(;!(o=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);o=!0);}catch(e){i=!0,l=e}finally{try{if(!o&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(i)throw l}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(){var e=m((0,r.useState)(null),2),t=e[0],n=e[1],u=m((0,r.useState)(!0),2),d=u[0],g=u[1],v=m((0,r.useState)("top_voted"),2),f=v[0],h=v[1];return(0,r.useEffect)((function(){fetch("/api/github-analytics/").then((function(e){return e.json()})).then(n).finally((function(){return g(!1)}))}),[]),d?r.createElement("div",{className:"text-center my-4"},r.createElement(l.A,{animation:"border"})," Loading GitHub analytics..."):t?r.createElement(a.A,{className:"mb-4"},r.createElement(a.A.Header,null,r.createElement("h4",{className:"mb-0"},"GitHub Integration Analytics")),r.createElement(a.A.Body,null,r.createElement(c.A,{activeKey:f,onSelect:h,className:"mb-3"},r.createElement(s.A,{eventKey:"top_voted",title:"Top Voted Repos"},r.createElement(o.A,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Repo"),r.createElement("th",null,"Owner"),r.createElement("th",null,"Votes"),r.createElement("th",null,"Stars"),r.createElement("th",null,"Language"),r.createElement("th",null,"Last Updated"))),r.createElement("tbody",null,t.top_voted.map((function(e){return r.createElement("tr",{key:e.id},r.createElement("td",null,r.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.name)),r.createElement("td",null,r.createElement("img",{src:e.owner_avatar_url,alt:e.owner,width:24,height:24,className:"rounded me-2"}),e.owner),r.createElement("td",null,r.createElement(i.A,{bg:"primary"},e.votes)),r.createElement("td",null,r.createElement(i.A,{bg:"warning",text:"dark"},e.stargazers_count)),r.createElement("td",null,e.language),r.createElement("td",null,new Date(e.updated_at).toLocaleDateString()))}))))),r.createElement(s.A,{eventKey:"top_commented",title:"Most Commented Repos"},r.createElement(o.A,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Repo"),r.createElement("th",null,"Owner"),r.createElement("th",null,"Comments"),r.createElement("th",null,"Votes"),r.createElement("th",null,"Stars"),r.createElement("th",null,"Language"))),r.createElement("tbody",null,t.top_commented.map((function(e){return r.createElement("tr",{key:e.id},r.createElement("td",null,r.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.name)),r.createElement("td",null,r.createElement("img",{src:e.owner_avatar_url,alt:e.owner,width:24,height:24,className:"rounded me-2"}),e.owner),r.createElement("td",null,e.metadata&&e.metadata.num_comments?e.metadata.num_comments:"-"),r.createElement("td",null,r.createElement(i.A,{bg:"primary"},e.votes)),r.createElement("td",null,r.createElement(i.A,{bg:"warning",text:"dark"},e.stargazers_count)),r.createElement("td",null,e.language))}))))),r.createElement(s.A,{eventKey:"recent_comments",title:"Recent Comments"},r.createElement(o.A,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Repo"),r.createElement("th",null,"Comment"),r.createElement("th",null,"Author"),r.createElement("th",null,"Date"))),r.createElement("tbody",null,t.recent_comments.map((function(e){return r.createElement("tr",{key:e.id},r.createElement("td",null,e.repo),r.createElement("td",null,e.content),r.createElement("td",null,e.author_username),r.createElement("td",null,new Date(e.created_at).toLocaleString()))})))))))):r.createElement("div",{className:"alert alert-danger"},"Failed to load GitHub analytics.")}},7115:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27%3e%3cpath fill=%27none%27 stroke=%27%23dee2e6%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%272%27 d=%27m2 5 6 6 6-6%27/%3e%3c/svg%3e"},7154:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27rgba%280, 0, 0, 0.25%29%27/%3e%3c/svg%3e"},8661:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 8 8%27%3e%3cpath fill=%27%23198754%27 d=%27M2.3 6.73.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1%27/%3e%3c/svg%3e"},8734:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27rgba%28255, 255, 255, 0.25%29%27/%3e%3c/svg%3e"}}]);