"use strict";(self.webpackChunkanalytics_dashboard=self.webpackChunkanalytics_dashboard||[]).push([[965],{6965:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var r=n(6540),l=n(778),a=n(2096),c=n(3032),m=n(5056),o=n(2431),u=n(6052);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,a,c,m=[],o=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;o=!1}else for(;!(o=(r=a.call(n)).done)&&(m.push(r.value),m.length!==t);o=!0);}catch(e){u=!0,l=e}finally{try{if(!o&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(u)throw l}}return m}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(){var e=i((0,r.useState)(null),2),t=e[0],n=e[1],d=i((0,r.useState)(!0),2),s=d[0],E=d[1],h=i((0,r.useState)("top_voted"),2),f=h[0],p=h[1];return(0,r.useEffect)((function(){fetch("/api/github-analytics/").then((function(e){return e.json()})).then(n).finally((function(){return E(!1)}))}),[]),s?r.createElement("div",{className:"text-center my-4"},r.createElement(l.A,{animation:"border"})," Loading GitHub analytics..."):t?r.createElement(a.A,{className:"mb-4"},r.createElement(a.A.Header,null,r.createElement("h4",{className:"mb-0"},"GitHub Integration Analytics")),r.createElement(a.A.Body,null,r.createElement(c.A,{activeKey:f,onSelect:p,className:"mb-3"},r.createElement(m.A,{eventKey:"top_voted",title:"Top Voted Repos"},r.createElement(o.A,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Repo"),r.createElement("th",null,"Owner"),r.createElement("th",null,"Votes"),r.createElement("th",null,"Stars"),r.createElement("th",null,"Language"),r.createElement("th",null,"Last Updated"))),r.createElement("tbody",null,t.top_voted.map((function(e){return r.createElement("tr",{key:e.id},r.createElement("td",null,r.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.name)),r.createElement("td",null,r.createElement("img",{src:e.owner_avatar_url,alt:e.owner,width:24,height:24,className:"rounded me-2"}),e.owner),r.createElement("td",null,r.createElement(u.A,{bg:"primary"},e.votes)),r.createElement("td",null,r.createElement(u.A,{bg:"warning",text:"dark"},e.stargazers_count)),r.createElement("td",null,e.language),r.createElement("td",null,new Date(e.updated_at).toLocaleDateString()))}))))),r.createElement(m.A,{eventKey:"top_commented",title:"Most Commented Repos"},r.createElement(o.A,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Repo"),r.createElement("th",null,"Owner"),r.createElement("th",null,"Comments"),r.createElement("th",null,"Votes"),r.createElement("th",null,"Stars"),r.createElement("th",null,"Language"))),r.createElement("tbody",null,t.top_commented.map((function(e){return r.createElement("tr",{key:e.id},r.createElement("td",null,r.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.name)),r.createElement("td",null,r.createElement("img",{src:e.owner_avatar_url,alt:e.owner,width:24,height:24,className:"rounded me-2"}),e.owner),r.createElement("td",null,e.metadata&&e.metadata.num_comments?e.metadata.num_comments:"-"),r.createElement("td",null,r.createElement(u.A,{bg:"primary"},e.votes)),r.createElement("td",null,r.createElement(u.A,{bg:"warning",text:"dark"},e.stargazers_count)),r.createElement("td",null,e.language))}))))),r.createElement(m.A,{eventKey:"recent_comments",title:"Recent Comments"},r.createElement(o.A,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Repo"),r.createElement("th",null,"Comment"),r.createElement("th",null,"Author"),r.createElement("th",null,"Date"))),r.createElement("tbody",null,t.recent_comments.map((function(e){return r.createElement("tr",{key:e.id},r.createElement("td",null,e.repo),r.createElement("td",null,e.content),r.createElement("td",null,e.author_username),r.createElement("td",null,new Date(e.created_at).toLocaleString()))})))))))):r.createElement("div",{className:"alert alert-danger"},"Failed to load GitHub analytics.")}}}]);