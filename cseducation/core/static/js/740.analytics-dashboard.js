"use strict";(self.webpackChunkanalytics_dashboard=self.webpackChunkanalytics_dashboard||[]).push([[740,965],{644:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23fff%27%3e%3cpath d=%27M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0%27/%3e%3c/svg%3e"},1368:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23fff%27%3e%3cpath d=%27M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708%27/%3e%3c/svg%3e"},1451:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27none%27 stroke=%27%23052c65%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpath d=%27m2 5 6 6 6-6%27/%3e%3c/svg%3e"},2236:(e,t,n)=>{n.r(t),n.d(t,{ActivityLog:()=>y,PerCourseActivity:()=>E,mountActivityLog:()=>x,mountGithubAnalytics:()=>f,mountPerCourseActivity:()=>w});var r=n(6540),l=n(6965),a=(n(6378),n(2096)),c=n(3032),o=n(5056),s=n(2431),i=n(6052),m=n(2084),u=n(778),d=n(1069),g=n(9777),v=n(3524);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,a,c,o=[],s=!0,i=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);s=!0);}catch(e){i=!0,l=e}finally{try{if(!s&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(i)throw l}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function E(e){var t=e.stats,n=h((0,r.useState)("per-course"),2),l=n[0],m=n[1];return r.createElement(a.A,{className:"mb-4 shadow-sm"},r.createElement(a.A.Header,{className:"bg-white border-bottom-0 pb-0"},r.createElement("h4",{className:"mb-0"},"Per-Course Activity")),r.createElement(a.A.Body,null,r.createElement(c.A,{activeKey:l,onSelect:m,className:"mb-3"},r.createElement(o.A,{eventKey:"per-course",title:"Overview"},r.createElement(s.A,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"align-middle"},r.createElement("thead",{className:"table-light"},r.createElement("tr",null,r.createElement("th",null,"Course"),r.createElement("th",null,"Questions"),r.createElement("th",null,"Answers"),r.createElement("th",null,"Project Discussions"),r.createElement("th",null,"Enrolled Students"))),r.createElement("tbody",null,t.map((function(e){return r.createElement("tr",{key:e.course.id},r.createElement("td",null,r.createElement("a",{href:"/courses/".concat(e.course.id,"/"),className:"d-flex align-items-center text-decoration-none"},r.createElement(i.A,{bg:"secondary",className:"me-2"},e.course.code),r.createElement("span",{className:"fw-bold"},e.course.name))),r.createElement("td",null,r.createElement(i.A,{bg:"primary"},e.questions)),r.createElement("td",null,r.createElement(i.A,{bg:"info",text:"dark"},e.answers)),r.createElement("td",null,r.createElement(i.A,{bg:"success"},e.discussions)),r.createElement("td",null,r.createElement(i.A,{bg:"dark"},e.students)))}))))))))}function f(){var e=document.getElementById("react-github-analytics");e&&r.render(r.createElement(l.default,null),e)}function w(e){var t=document.getElementById("react-per-course-activity");t&&r.render(r.createElement(E,{stats:e}),t)}function y(){var e=h((0,r.useState)([]),2),t=e[0],n=e[1],l=h((0,r.useState)(!0),2),c=l[0],o=l[1],p=h((0,r.useState)(""),2),E=p[0],f=p[1],w=h((0,r.useState)(0),2),y=w[0],x=w[1],b=h((0,r.useState)(null),2),A=(b[0],b[1]),k=h((0,r.useState)(null),2),_=(k[0],k[1]),S=h((0,r.useState)(1),2),C=S[0],L=S[1];(0,r.useEffect)((function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;o(!0),fetch("/api/eventlogs/?page=".concat(e)).then((function(e){return e.json()})).then((function(e){n(e.results),x(e.count),A(e.next),_(e.previous),o(!1)}))}(C)}),[C]);var B=t.filter((function(e){return e.event_type.toLowerCase().includes(E.toLowerCase())||e.description&&e.description.toLowerCase().includes(E.toLowerCase())||e.user&&e.user.username&&e.user.username.toLowerCase().includes(E.toLowerCase())}));function N(e){var t=e.current,n=e.total,l=e.onPageChange;if(n<=1)return null;var a=[],c=Math.max(1,t-Math.floor(3.5)),o=Math.min(n,c+7-1);o-c<6&&(c=Math.max(1,o-7+1)),a.push(r.createElement(d.A.First,{key:"first",onClick:function(){return l(1)},disabled:1===t})),a.push(r.createElement(d.A.Prev,{key:"prev",onClick:function(){return l(t-1)},disabled:1===t}));for(var s=function(e){a.push(r.createElement(d.A.Item,{key:e,active:e===t,onClick:function(){return l(e)}},e))},i=c;i<=o;i++)s(i);return a.push(r.createElement(d.A.Next,{key:"next",onClick:function(){return l(t+1)},disabled:t===n})),a.push(r.createElement(d.A.Last,{key:"last",onClick:function(){return l(n)},disabled:t===n})),r.createElement(d.A,null,a)}var M=Math.ceil(y/10);return r.createElement(a.A,{className:"mb-4"},r.createElement(a.A.Header,{className:"d-flex align-items-center justify-content-between"},r.createElement("h4",{className:"mb-0"},"Recent Activity Log"),r.createElement(m.A.Control,{type:"text",placeholder:"Filter by user, event, description...",value:E,onChange:function(e){return f(e.target.value)},style:{maxWidth:320}})),r.createElement(a.A.Body,{className:"p-0"},c?r.createElement("div",{className:"text-center my-4"},r.createElement(u.A,{animation:"border"})," Loading..."):r.createElement(r.Fragment,null,r.createElement(s.A,{striped:!0,hover:!0,responsive:!0,className:"mb-0"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Timestamp"),r.createElement("th",null,"User"),r.createElement("th",null,"Event"),r.createElement("th",null,"Description"))),r.createElement("tbody",null,B.map((function(e){return r.createElement("tr",{key:e.id,className:(t=e.event_type,t.startsWith("github_")?"table-info":"question_created_module"===t?"table-success":["question_created","answer_created","vote"].includes(t)?"table-light":"")},r.createElement("td",null,new Date(e.timestamp).toLocaleString()),r.createElement("td",null,e.user?e.user.username:"Anonymous"),r.createElement("td",null,r.createElement(g.A,{placement:"top",overlay:r.createElement(v.A,null,e.event_type)},r.createElement("span",null,function(e){return e.startsWith("github_")?r.createElement(i.A,{bg:"danger"},"GitHub"):"question_created_module"===e?r.createElement(i.A,{bg:"success"},"Module Q"):"question_created"===e?r.createElement(i.A,{bg:"primary"},"Q"):"answer_created"===e?r.createElement(i.A,{bg:"info"},"A"):"vote"===e?r.createElement(i.A,{bg:"secondary"},"Vote"):r.createElement(i.A,{bg:"dark"},e)}(e.event_type)))),r.createElement("td",null,e.description));var t})))),r.createElement("div",{className:"d-flex justify-content-center py-3"},r.createElement(N,{current:C,total:M,onPageChange:function(e){L(e)}})))))}function x(){var e=document.getElementById("react-activity-log");e&&r.render(r.createElement(y,null),e)}},2247:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 30 30%27%3e%3cpath stroke=%27rgba%2833, 37, 41, 0.75%29%27 stroke-linecap=%27round%27 stroke-miterlimit=%2710%27 stroke-width=%272%27 d=%27M4 7h22M4 15h22M4 23h22%27/%3e%3c/svg%3e"},2692:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27none%27 stroke=%27%23212529%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpath d=%27m2 5 6 6 6-6%27/%3e%3c/svg%3e"},3385:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%272%27 fill=%27%23fff%27/%3e%3c/svg%3e"},4274:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 20 20%27%3e%3cpath fill=%27none%27 stroke=%27%23fff%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%273%27 d=%27M6 10h8%27/%3e%3c/svg%3e"},4718:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27%23fff%27/%3e%3c/svg%3e"},4914:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%236ea8fe%27%3e%3cpath fill-rule=%27evenodd%27 d=%27M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708%27/%3e%3c/svg%3e"},5372:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 12 12%27 width=%2712%27 height=%2712%27 fill=%27none%27 stroke=%27%23dc3545%27%3e%3ccircle cx=%276%27 cy=%276%27 r=%274.5%27/%3e%3cpath stroke-linejoin=%27round%27 d=%27M5.8 3.6h.4L6 6.5z%27/%3e%3ccircle cx=%276%27 cy=%278.2%27 r=%27.6%27 fill=%27%23dc3545%27 stroke=%27none%27/%3e%3c/svg%3e"},5419:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 20 20%27%3e%3cpath fill=%27none%27 stroke=%27%23fff%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%273%27 d=%27m6 10 3 3 6-6%27/%3e%3c/svg%3e"},5531:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27%3e%3cpath fill=%27none%27 stroke=%27%23343a40%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%272%27 d=%27m2 5 6 6 6-6%27/%3e%3c/svg%3e"},5782:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27%2386b7fe%27/%3e%3c/svg%3e"},5967:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23000%27%3e%3cpath d=%27M.293.293a1 1 0 0 1 1.414 0L8 6.586 14.293.293a1 1 0 1 1 1.414 1.414L9.414 8l6.293 6.293a1 1 0 0 1-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 0 1-1.414-1.414L6.586 8 .293 1.707a1 1 0 0 1 0-1.414%27/%3e%3c/svg%3e"},6366:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 30 30%27%3e%3cpath stroke=%27rgba%28255, 255, 255, 0.55%29%27 stroke-linecap=%27round%27 stroke-miterlimit=%2710%27 stroke-width=%272%27 d=%27M4 7h22M4 15h22M4 23h22%27/%3e%3c/svg%3e"},6965:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var r=n(6540),l=n(778),a=n(2096),c=n(3032),o=n(5056),s=n(2431),i=n(6052);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,a,c,o=[],s=!0,i=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);s=!0);}catch(e){i=!0,l=e}finally{try{if(!s&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(i)throw l}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(){var e=m((0,r.useState)(null),2),t=e[0],n=e[1],u=m((0,r.useState)(!0),2),d=u[0],g=u[1],v=m((0,r.useState)("top_voted"),2),h=v[0],p=v[1];return(0,r.useEffect)((function(){fetch("/api/github-analytics/").then((function(e){return e.json()})).then(n).finally((function(){return g(!1)}))}),[]),d?r.createElement("div",{className:"text-center my-4"},r.createElement(l.A,{animation:"border"})," Loading GitHub analytics..."):t?r.createElement(a.A,{className:"mb-4"},r.createElement(a.A.Header,null,r.createElement("h4",{className:"mb-0"},"GitHub Integration Analytics")),r.createElement(a.A.Body,null,r.createElement(c.A,{activeKey:h,onSelect:p,className:"mb-3"},r.createElement(o.A,{eventKey:"top_voted",title:"Top Voted Repos"},r.createElement(s.A,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Repo"),r.createElement("th",null,"Owner"),r.createElement("th",null,"Votes"),r.createElement("th",null,"Stars"),r.createElement("th",null,"Language"),r.createElement("th",null,"Last Updated"))),r.createElement("tbody",null,t.top_voted.map((function(e){return r.createElement("tr",{key:e.id},r.createElement("td",null,r.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.name)),r.createElement("td",null,r.createElement("img",{src:e.owner_avatar_url,alt:e.owner,width:24,height:24,className:"rounded me-2"}),e.owner),r.createElement("td",null,r.createElement(i.A,{bg:"primary"},e.votes)),r.createElement("td",null,r.createElement(i.A,{bg:"warning",text:"dark"},e.stargazers_count)),r.createElement("td",null,e.language),r.createElement("td",null,new Date(e.updated_at).toLocaleDateString()))}))))),r.createElement(o.A,{eventKey:"top_commented",title:"Most Commented Repos"},r.createElement(s.A,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Repo"),r.createElement("th",null,"Owner"),r.createElement("th",null,"Comments"),r.createElement("th",null,"Votes"),r.createElement("th",null,"Stars"),r.createElement("th",null,"Language"))),r.createElement("tbody",null,t.top_commented.map((function(e){return r.createElement("tr",{key:e.id},r.createElement("td",null,r.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.name)),r.createElement("td",null,r.createElement("img",{src:e.owner_avatar_url,alt:e.owner,width:24,height:24,className:"rounded me-2"}),e.owner),r.createElement("td",null,e.metadata&&e.metadata.num_comments?e.metadata.num_comments:"-"),r.createElement("td",null,r.createElement(i.A,{bg:"primary"},e.votes)),r.createElement("td",null,r.createElement(i.A,{bg:"warning",text:"dark"},e.stargazers_count)),r.createElement("td",null,e.language))}))))),r.createElement(o.A,{eventKey:"recent_comments",title:"Recent Comments"},r.createElement(s.A,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Repo"),r.createElement("th",null,"Comment"),r.createElement("th",null,"Author"),r.createElement("th",null,"Date"))),r.createElement("tbody",null,t.recent_comments.map((function(e){return r.createElement("tr",{key:e.id},r.createElement("td",null,e.repo),r.createElement("td",null,e.content),r.createElement("td",null,e.author_username),r.createElement("td",null,new Date(e.created_at).toLocaleString()))})))))))):r.createElement("div",{className:"alert alert-danger"},"Failed to load GitHub analytics.")}},7115:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27%3e%3cpath fill=%27none%27 stroke=%27%23dee2e6%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%272%27 d=%27m2 5 6 6 6-6%27/%3e%3c/svg%3e"},7154:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27rgba%280, 0, 0, 0.25%29%27/%3e%3c/svg%3e"},8661:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 8 8%27%3e%3cpath fill=%27%23198754%27 d=%27M2.3 6.73.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1%27/%3e%3c/svg%3e"},8734:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27rgba%28255, 255, 255, 0.25%29%27/%3e%3c/svg%3e"}}]);